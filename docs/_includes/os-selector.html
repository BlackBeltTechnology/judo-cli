<!-- Material Design Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">

<div class="install-tabs">
  <div class="tab-buttons">
    <button class="tab-button active" data-tab="macos">
      <span class="tab-icon mdi mdi-apple"></span>
      macOS
    </button>
    <button class="tab-button" data-tab="linux">
      <span class="tab-icon mdi mdi-penguin"></span>
      Linux
    </button>
    <button class="tab-button" data-tab="windows">
      <span class="tab-icon mdi mdi-microsoft-windows"></span>
      Windows
    </button>
  </div>
  
  <div class="tab-content">
    <div class="tab-panel active" id="macos">
      <div class="command-box">
        <div class="command-header">
          <span class="command-title">Homebrew</span>
          <button class="copy-btn" data-copy="brew install judo-cli">
            <span class="copy-icon mdi mdi-content-copy"></span>
            Copy
          </button>
        </div>
        <code class="command-text">brew install judo-cli</code>
      </div>
      
      <div class="command-box">
        <div class="command-header">
          <span class="command-title">cURL</span>
          <button class="copy-btn" data-copy="curl -fsSL https://judo.technology/install.sh | bash">
            <span class="copy-icon mdi mdi-content-copy"></span>
            Copy
          </button>
        </div>
        <code class="command-text">curl -fsSL https://judo.technology/install.sh | bash</code>
      </div>
    </div>
    
    <div class="tab-panel" id="linux">
      <div class="command-box">
        <div class="command-header">
          <span class="command-title">cURL</span>
          <button class="copy-btn" data-copy="curl -fsSL https://judo.technology/install.sh | bash">
            <span class="copy-icon mdi mdi-content-copy"></span>
            Copy
          </button>
        </div>
        <code class="command-text">curl -fsSL https://judo.technology/install.sh | bash</code>
      </div>
    </div>
    
    <div class="tab-panel" id="windows">
      <div class="command-box">
        <div class="command-header">
          <span class="command-title">PowerShell</span>
          <button class="copy-btn" data-copy="iwr -useb https://judo.technology/install.ps1 | iex">
            <span class="copy-icon mdi mdi-content-copy"></span>
            Copy
          </button>
        </div>
        <code class="command-text">iwr -useb https://judo.technology/install.ps1 | iex</code>
      </div>
    </div>
  </div>
</div>

<style>
.install-tabs {
  margin: 2rem 0;
  max-width: 600px;
}

.tab-buttons {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.tab-button {
  padding: 0.75rem 1.5rem;
  border: 1px solid #e1e4e8;
  background: white;
  border-radius: 6px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  transition: all 0.2s ease;
}

.tab-button:hover {
  border-color: #0366d6;
}

.tab-button.active {
  background: #0366d6;
  color: white;
  border-color: #0366d6;
}

.tab-content {
  border: 1px solid #e1e4e8;
  border-radius: 6px;
  padding: 1.5rem;
  background: white;
}

.tab-panel {
  display: none;
}

.tab-panel.active {
  display: block;
}

.command-box {
  margin-bottom: 1rem;
}

.command-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}

.command-title {
  font-weight: 600;
  color: #24292e;
}

.copy-btn {
  padding: 0.25rem 0.5rem;
  border: 1px solid #e1e4e8;
  background: white;
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.875rem;
  transition: all 0.2s ease;
}

.copy-btn:hover {
  border-color: #0366d6;
  color: #0366d6;
}

.command-text {
  display: block;
  padding: 0.75rem;
  background: #f6f8fa;
  border-radius: 4px;
  border: 1px solid #e1e4e8;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.875rem;
  overflow-x: auto;
}
</style>

<script>
// OS Detection and Auto-selection
(function() {
  const userAgent = navigator.userAgent.toLowerCase();
  let detectedOS = 'macos'; // default

  if (userAgent.includes('win')) {
    detectedOS = 'windows';
  } else if (userAgent.includes('linux')) {
    detectedOS = 'linux';
  }

  // Auto-select the detected OS tab
  const tabButton = document.querySelector(`[data-tab="${detectedOS}"]`);
  const tabPanel = document.getElementById(detectedOS);
  
  if (tabButton && tabPanel) {
    document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.tab-panel').forEach(panel => panel.classList.remove('active'));
    
    tabButton.classList.add('active');
    tabPanel.classList.add('active');
  }

  // Tab switching functionality
  document.querySelectorAll('.tab-button').forEach(button => {
    button.addEventListener('click', () => {
      const tab = button.getAttribute('data-tab');
      
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.tab-panel').forEach(panel => panel.classList.remove('active'));
      
      button.classList.add('active');
      document.getElementById(tab).classList.add('active');
    });
  });

  // Copy button functionality
  document.querySelectorAll('.copy-btn').forEach(button => {
    button.addEventListener('click', () => {
      const command = button.getAttribute('data-copy');
      navigator.clipboard.writeText(command).then(() => {
        const originalText = button.innerHTML;
        button.innerHTML = '<span class="copy-icon mdi mdi-check"></span> Copied!';
        setTimeout(() => {
          button.innerHTML = originalText;
        }, 2000);
      });
    });
  });
})();
</script>